{"ast":null,"code":"import _objectSpread from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./styles.scss';import{updateUser}from'./../../services/user';var EditAccountView=/*#__PURE__*/function(_Component){_inherits(EditAccountView,_Component);var _super=_createSuper(EditAccountView);function EditAccountView(props){var _this;_classCallCheck(this,EditAccountView);_this=_super.call(this,props);_this.handleInputChange=function(_ref){var _ref$target=_ref.target,name=_ref$target.name,value=_ref$target.value;_this.setState(_defineProperty({},name,value));};_this.handleFileInputChange=function(event){var name=event.target.name;var file=event.target.files[0];_this.setState(_defineProperty({},name,file));};_this.handleSubmit=function(event){event.preventDefault();var _this$state=_this.state,_id=_this$state._id,username=_this$state.username,location=_this$state.location,bio=_this$state.bio,pictureUrl=_this$state.pictureUrl;updateUser({_id:_id,username:username,location:location,bio:bio,pictureUrl:pictureUrl}).then(function(user){_this.props.updateUser(user);_this.props.history.push({pathname:\"/user/\".concat(user._id),user:user});}).catch(function(error){// console.log('This is the error');\nconsole.log(error);});};_this.state=_objectSpread({},props.user);return _this;}_createClass(EditAccountView,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"m-5\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"text-gray-700 text-4xl font-bold md:text-center pb-20 pt-10 md:mb-0 pr-4\"},\"Editing Profile\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit,className:\"w-full max-w-sm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:flex md:items-center mb-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-1/3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"username\",className:\"block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4\"},\"Username:\",' ')),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-2/3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\\\" id=\\\"inline-full-name\",name:\"username\",value:this.state.username,onChange:this.handleInputChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"md:flex md:items-center mb-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-1/3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"location\",className:\"block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4\"},\"Location:\",' ')),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-2/3\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\\\" id=\\\"inline-full-name\",name:\"location\",value:this.state.location,onChange:this.handleInputChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"md:flex md:items-center mb-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-1/3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"bio\",className:\"block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4\"},\"Bio:\",' ')),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-2/3\"},/*#__PURE__*/React.createElement(\"textarea\",{type:\"text\",className:\"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\\\" id=\\\"inline-full-name\",name:\"bio\",value:this.state.bio,onChange:this.handleInputChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"md:flex md:items-center mb-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-1/3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4\",htmlFor:\"pictureUrl\"},\"Picture\",' ')),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-2/3\"},/*#__PURE__*/React.createElement(\"input\",{className:\"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\\\" id=\\\"inline-full-name\",type:\"file\",name:\"pictureUrl\",id:\"pictureUrl\",onChange:this.handleFileInputChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-12 text-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded\"},\"Submit\"))));}}]);return EditAccountView;}(Component);export default EditAccountView;","map":{"version":3,"sources":["/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/src/views/EditAccount/index.jsx"],"names":["React","Component","updateUser","EditAccountView","props","handleInputChange","target","name","value","setState","handleFileInputChange","event","file","files","handleSubmit","preventDefault","state","_id","username","location","bio","pictureUrl","then","user","history","push","pathname","catch","error","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles.scss';\nimport { updateUser } from './../../services/user';\n\nclass EditAccountView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...props.user };\n  }\n\n  handleInputChange = ({ target: { name, value } }) => {\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleFileInputChange = (event) => {\n    const { name } = event.target;\n    const file = event.target.files[0];\n    this.setState({\n      [name]: file,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { _id, username, location, bio, pictureUrl } = this.state;\n\n    updateUser({ _id, username, location, bio, pictureUrl })\n      .then((user) => {\n        this.props.updateUser(user);\n        this.props.history.push({ pathname: `/user/${user._id}`, user });\n      })\n      .catch((error) => {\n        // console.log('This is the error');\n        console.log(error);\n      });\n  };\n\n  render() {\n    return (\n      <div className='m-5'>\n        <div>\n          <p className='text-gray-700 text-4xl font-bold md:text-center pb-20 pt-10 md:mb-0 pr-4'>Editing Profile</p>\n        </div>\n        <form onSubmit={this.handleSubmit} className='w-full max-w-sm'>\n          <div className='md:flex md:items-center mb-6'>\n            <div className='md:w-1/3'>\n              <label htmlFor='username' className='block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4'>\n                Username:{' '}\n              </label>\n            </div>\n            <div className='md:w-2/3'>\n              <input\n                type='text'\n                className='bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\" id=\"inline-full-name'\n                name='username'\n                value={this.state.username}\n                onChange={this.handleInputChange}\n              />\n            </div>\n          </div>\n\n          <div className='md:flex md:items-center mb-6'>\n            <div className='md:w-1/3'>\n              <label htmlFor='location' className='block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4'>\n                Location:{' '}\n              </label>\n            </div>\n            <div className='md:w-2/3'>\n              <input\n                type='text'\n                className='bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\" id=\"inline-full-name'\n                name='location'\n                value={this.state.location}\n                onChange={this.handleInputChange}\n              />\n            </div>\n          </div>\n\n          <div className='md:flex md:items-center mb-6'>\n            <div className='md:w-1/3'>\n              <label htmlFor='bio' className='block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4'>\n                Bio:{' '}\n              </label>\n            </div>\n            <div className='md:w-2/3'>\n              <textarea\n                type='text'\n                className='bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\" id=\"inline-full-name'\n                name='bio'\n                value={this.state.bio}\n                onChange={this.handleInputChange}\n              />\n            </div>\n          </div>\n\n          <div className='md:flex md:items-center mb-6'>\n            <div className='md:w-1/3'>\n              <label className='block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4' htmlFor='pictureUrl'>\n                Picture{' '}\n              </label>\n            </div>\n            <div className='md:w-2/3'>\n              <input\n                className='bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\" id=\"inline-full-name'\n                type='file'\n                name='pictureUrl'\n                id='pictureUrl'\n                onChange={this.handleFileInputChange}\n              />\n            </div>\n          </div>\n          <div className='mt-12 text-center'>\n            <button className='bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded'>\n              Submit\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default EditAccountView;\n"]},"metadata":{},"sourceType":"module"}