{"ast":null,"code":"var _jsxFileName = \"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/src/views/ProfileUser/index.jsx\";\nimport React, { Component } from 'react';\nimport './styles.scss';\nimport { Link } from 'react-router-dom';\nimport { getUserById } from './../../services/user';\nimport HorizontalCardList from './../../components/HorizontalCardList';\n\nclass ProfileUserView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = props => {\n      let isOwner = false;\n      if (this.props.user) isOwner = this.props.match.params.id === this.props.user._id;\n      getUserById(this.props.match.params.id).then(result => {\n        console.log('owner', isOwner);\n        console.log('result', result);\n        this.setState({\n          user: result.user,\n          loaded: true,\n          isOwner,\n          projects: [...result.projects]\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      user: null,\n      loaded: false,\n      isOwner: false,\n      projects: []\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log('update');\n  }\n\n  render() {\n    let user;\n\n    if (this.props.location.user) {\n      user = this.props.location.user;\n    } else {\n      user = this.state.user;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, !this.state.loaded && /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 32\n      }\n    }, \"Loading\"), this.state.user && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: user.pictureUrl,\n      alt: \"Profile\",\n      className: \"img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, user.username), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, user.email), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"aboutme\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }, user.bio), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"location\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-map-marker-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, \" \"), ' ' + user.location), this.state.isOwner && /*#__PURE__*/React.createElement(Link, {\n      to: `/user/${user._id}/edit`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 19\n      }\n    }, \"Edit\"))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, \"Projects\"), /*#__PURE__*/React.createElement(HorizontalCardList, {\n      projects: this.state.projects,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"actions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, \"Contributed Actions\"), /*#__PURE__*/React.createElement(HorizontalCardList, {\n      projects: this.state.projects,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}\n\nexport default ProfileUserView;","map":{"version":3,"sources":["/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/src/views/ProfileUser/index.jsx"],"names":["React","Component","Link","getUserById","HorizontalCardList","ProfileUserView","constructor","props","componentDidMount","isOwner","user","match","params","id","_id","then","result","console","log","setState","loaded","projects","catch","error","state","componentDidUpdate","prevProps","prevState","render","location","pictureUrl","username","email","bio"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles.scss';\nimport { Link } from 'react-router-dom';\nimport { getUserById } from './../../services/user';\nimport HorizontalCardList from './../../components/HorizontalCardList';\n\nclass ProfileUserView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      loaded: false,\n      isOwner: false,\n      projects: [],\n    };\n  }\n\n  componentDidMount = (props) => {\n    let isOwner = false;\n    if (this.props.user) isOwner = this.props.match.params.id === this.props.user._id;\n    getUserById(this.props.match.params.id)\n      .then((result) => {\n        console.log('owner', isOwner);\n        console.log('result', result);\n        this.setState({\n          user: result.user,\n          loaded: true,\n          isOwner,\n          projects: [...result.projects],\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log('update');\n  }\n\n  render() {\n    let user;\n    if (this.props.location.user) {\n      user = this.props.location.user;\n    } else {\n      user = this.state.user;\n    }\n\n    return (\n      <div>\n        {!this.state.loaded && <span>Loading</span>}\n        {this.state.user && (\n          <div className='main'>\n            <div className='profile'>\n              <img src={user.pictureUrl} alt='Profile' className='img' />\n              <p className='name'>{user.username}</p>\n              <p className='email'>{user.email}</p>\n              <p className='aboutme'>{user.bio}</p>\n              <p className='location'>\n                <i class='fas fa-map-marker-alt'> </i>\n                {' ' + user.location}\n              </p>\n\n              {this.state.isOwner && (\n                <Link to={`/user/${user._id}/edit`}>\n                  <p className='edit'>Edit</p>\n                </Link>\n              )}\n            </div>\n            <hr />\n            <div className='section'>\n              <p>Projects</p>\n              <HorizontalCardList projects={this.state.projects}></HorizontalCardList>\n\n              <p className='actions'>Contributed Actions</p>\n              <HorizontalCardList projects={this.state.projects}></HorizontalCardList>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ProfileUserView;\n"]},"metadata":{},"sourceType":"module"}