{"ast":null,"code":"var _jsxFileName = \"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/src/views/SingleProject/index.jsx\";\nimport React, { Component } from 'react';\nimport './styles.scss';\nimport ProgressBar from './../../components/ProgressBar';\nimport { getProjectById, deleteProjectById } from './../../services/project';\nimport formatDate from './../../helper/formatDate';\nimport { Link } from 'react-router-dom';\nexport class SingleProjectView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDelete = () => {\n      this.deleteProject();\n    };\n\n    this.state = {\n      project: null,\n      loaded: false,\n      resources: false,\n      volunteers: false\n    };\n  }\n\n  loadSingleProject() {\n    const id = this.props.match.params.project_id;\n    getProjectById(id).then(project => {\n      console.log('project:', project);\n      this.setState({\n        loaded: true,\n        project: { ...project\n        }\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    this.loadSingleProject();\n  }\n\n  deleteProject() {\n    const id = this.props.match.params.project_id;\n    console.log('vamos eliminar', id);\n    deleteProjectById(id).then(project => {\n      this.props.history.push(`/`);\n    }).catch(error => {\n      console.log('This is the error');\n      console.log(error);\n    });\n  }\n\n  render() {\n    const project = this.state.project;\n    let haveResources = false;\n    let haveVolunteers = false;\n    let iscreator = false;\n    console.log(this.props.user);\n\n    if (project) {\n      if (project.needs.resources.length !== 0) {\n        haveResources = true;\n      }\n\n      if (project.needs.volunteer.length !== 0) {\n        haveVolunteers = true;\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, !this.state.loaded && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, \"Loading...\")), project && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mr-16 ml-16 mt-20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"object-contain imageSingleProject\",\n      src: project.coverPictureUrl,\n      alt: project.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"project_dateCreator\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 19\n      }\n    }, \"Created by: \"), project.creator.username), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }, \"Date: \"), formatDate(project.updatedDate)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"project_information mt-16 mb-16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text-3xl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, project.title), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-base\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, project.shortDescription), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center mb-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"text-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-4 border border-blue-700 rounded mr-4\",\n      to: `/project/${project._id}/edit`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleDelete,\n      className: \"text-center bg-red-800 hover:bg-red-900 text-white font-bold  px-2 border border-red-900 rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, \"Delete\"))), project.needs.money.total && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border-2 mb-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center mt-10 mb-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    }, \"Goal: \", project.needs.money.total, \"\\u20AC || Achieved: \", project.needs.money.backed, \"\\u20AC\"), /*#__PURE__*/React.createElement(ProgressBar, {\n      project: project,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      className: \"text-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded\",\n      to: `/project/${project._id}/contribute`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, \"Support this cause\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" pt-6 pr-6 pl-6 mr-10 ml-10 flex flex-row justify-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, haveResources &&\n    /*#__PURE__*/\n\n    /* Something will show */\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }, \"Resources needed:\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table-auto mt-6 mb-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"px-4 py-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 25\n      }\n    }, \"Resource\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"px-4 py-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, \"Quantity\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, project.needs.resources.map(resource => /*#__PURE__*/React.createElement(\"tr\", {\n      key: resource._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-2 px-4 py-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 27\n      }\n    }, resource.name), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-2 px-4 py-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 27\n      }\n    }, resource.quantity, \" und.\")))))), haveVolunteers && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 19\n      }\n    }, \"Volunteers:\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table-auto mt-6 mb-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"px-4 py-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 25\n      }\n    }, \"Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"px-4 py-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, \"Quantity\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    }, project.needs.volunteer.map(volunteer => /*#__PURE__*/React.createElement(\"tr\", {\n      key: volunteer._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-2 px-4 py-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 27\n      }\n    }, volunteer.name), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"border-2 px-4 py-2 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 27\n      }\n    }, volunteer.quantity))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-4 mt-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, \"If you want to contribute with any resources, needs: \"), /*#__PURE__*/React.createElement(Link, {\n      className: \"text-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded\",\n      to: `/user/${project.creator._id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, \"Contact me\"))));\n  }\n\n}\nexport default SingleProjectView;","map":{"version":3,"sources":["/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/src/views/SingleProject/index.jsx"],"names":["React","Component","ProgressBar","getProjectById","deleteProjectById","formatDate","Link","SingleProjectView","constructor","props","handleDelete","deleteProject","state","project","loaded","resources","volunteers","loadSingleProject","id","match","params","project_id","then","console","log","setState","catch","error","componentDidMount","history","push","render","haveResources","haveVolunteers","iscreator","user","needs","length","volunteer","coverPictureUrl","title","creator","username","updatedDate","shortDescription","_id","money","total","backed","map","resource","name","quantity"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles.scss';\nimport ProgressBar from './../../components/ProgressBar';\nimport { getProjectById, deleteProjectById } from './../../services/project';\nimport formatDate from './../../helper/formatDate';\nimport { Link } from 'react-router-dom';\n\nexport class SingleProjectView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      project: null,\n      loaded: false,\n      resources: false,\n      volunteers: false\n    };\n  }\n\n  loadSingleProject() {\n    const id = this.props.match.params.project_id;\n    getProjectById(id)\n      .then((project) => {\n        console.log('project:', project);\n        this.setState({\n          loaded: true,\n          project: { ...project }\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  componentDidMount() {\n    this.loadSingleProject();\n  }\n\n  handleDelete = () => {\n    this.deleteProject();\n  };\n\n  deleteProject() {\n    const id = this.props.match.params.project_id;\n    console.log('vamos eliminar', id);\n    deleteProjectById(id)\n      .then((project) => {\n        this.props.history.push(`/`);\n      })\n      .catch((error) => {\n        console.log('This is the error');\n        console.log(error);\n      });\n  }\n\n  render() {\n    const project = this.state.project;\n    let haveResources = false;\n    let haveVolunteers = false;\n    let iscreator = false;\n    console.log(this.props.user);\n\n    if (project) {\n      if (project.needs.resources.length !== 0) {\n        haveResources = true;\n      }\n      if (project.needs.volunteer.length !== 0) {\n        haveVolunteers = true;\n      }\n    }\n    return (\n      <div>\n        {!this.state.loaded && (\n          <>\n            <span>Loading...</span>\n          </>\n        )}\n        {project && (\n          <div className='mr-16 ml-16 mt-20'>\n            <div>\n              <img\n                className='object-contain imageSingleProject'\n                src={project.coverPictureUrl}\n                alt={project.title}\n              />\n              <div className='project_dateCreator'>\n                <small>\n                  <strong>Created by: </strong>\n                  {project.creator.username}\n                </small>\n                <small>\n                  <strong>Date: </strong>\n                  {formatDate(project.updatedDate)}\n                </small>\n              </div>\n            </div>\n\n            <div className='project_information mt-16 mb-16'>\n              <h2 className='text-3xl'>{project.title}</h2>\n              <p className='text-base'>{project.shortDescription}</p>\n              <div className='text-center mb-10'>\n                <Link\n                  className='text-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-4 border border-blue-700 rounded mr-4'\n                  to={`/project/${project._id}/edit`}\n                >\n                  Edit\n                </Link>\n\n                <button\n                  onClick={this.handleDelete}\n                  className='text-center bg-red-800 hover:bg-red-900 text-white font-bold \n                   px-2 border border-red-900 rounded'\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n\n            {project.needs.money.total && (\n              <div className='border-2 mb-6'>\n                <div className='text-center mt-10 mb-10'>\n                  <small>\n                    Goal: {project.needs.money.total}€ || Achieved: {project.needs.money.backed}€\n                  </small>\n                  <ProgressBar project={project} />\n                  <Link\n                    className='text-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded'\n                    to={`/project/${project._id}/contribute`}\n                  >\n                    Support this cause\n                  </Link>\n                </div>\n              </div>\n            )}\n            <div className=' pt-6 pr-6 pl-6 mr-10 ml-10 flex flex-row justify-between'>\n              {haveResources && (\n                /* Something will show */\n                <div>\n                  <p>Resources needed:</p>\n                  <table className='table-auto mt-6 mb-10'>\n                    <thead>\n                      <tr>\n                        <th className='px-4 py-2'>Resource</th>\n                        <th className='px-4 py-2'>Quantity</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {/* map */}\n                      {project.needs.resources.map((resource) => (\n                        <tr key={resource._id}>\n                          <td className='border-2 px-4 py-2 text-center'>{resource.name}</td>\n                          <td className='border-2 px-4 py-2 text-center'>\n                            {resource.quantity} und.\n                          </td>\n                        </tr>\n                      ))}\n                      {/* FIM DE MAP */}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n              {haveVolunteers && (\n                <div>\n                  <p>Volunteers:</p>\n                  <table className='table-auto mt-6 mb-10'>\n                    <thead>\n                      <tr>\n                        <th className='px-4 py-2'>Type</th>\n                        <th className='px-4 py-2'>Quantity</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {/* map */}\n                      {project.needs.volunteer.map((volunteer) => (\n                        <tr key={volunteer._id}>\n                          <td className='border-2 px-4 py-2 text-center'>{volunteer.name}</td>\n                          <td className='border-2 px-4 py-2 text-center'>{volunteer.quantity}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </div>\n            <div className='mb-8'>\n              <p className='mb-4 mt-6'>If you want to contribute with any resources, needs: </p>\n              <Link\n                className='text-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded'\n                to={`/user/${project.creator._id}`}\n              >\n                Contact me\n              </Link>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\nexport default SingleProjectView;\n"]},"metadata":{},"sourceType":"module"}