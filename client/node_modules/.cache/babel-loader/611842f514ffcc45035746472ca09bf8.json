{"ast":null,"code":"import _objectSpread from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./styles.scss';import NeedsInput from'./../../components/Input';import{createProject}from'./../../services/project';var CreateProjectView=/*#__PURE__*/function(_Component){_inherits(CreateProjectView,_Component);var _super=_createSuper(CreateProjectView);function CreateProjectView(){var _this;_classCallCheck(this,CreateProjectView);_this=_super.call(this);_this.addResource=function(name,quantity){var arr=_toConsumableArray(_this.state.resources);var obj={name:name,quantity:quantity};arr.push(obj);_this.setState({resources:arr});};_this.addVolunteer=function(name,quantity){var arr=_toConsumableArray(_this.state.volunteer);var obj={name:name,quantity:quantity};arr.push(obj);_this.setState({volunteer:arr});};_this.prevent=function(event){event.preventDefault();};_this.handleInputChange=function(_ref){var _ref$target=_ref.target,name=_ref$target.name,value=_ref$target.value;//console.log(name, value);\n_this.setState(_defineProperty({},name,value));};_this.handleFileInputChange=function(event){var name=event.target.name;var file=event.target.files[0];_this.setState(_defineProperty({},name,file));};_this.deleteResource=function(idx){var arr=_toConsumableArray(_this.state.resources);var newarr=arr.filter(function(resource,index){return idx!==index;});_this.setState({resources:newarr});};_this.deleteVolunteer=function(idx){var arr=_toConsumableArray(_this.state.volunteer);var newarr=arr.filter(function(v,index){return idx!==index;});_this.setState({volunteer:newarr});};_this.create=function(event){event.preventDefault();var data=_objectSpread({},_this.state);createProject(data).then(function(result){console.log('result');}).then(function(){_this.props.history.push('/');}).catch(function(err){console.log(err);});};_this.state={title:'',coverPictureUrl:null,description:'',category:'Food',location:'',money:'',resources:[],volunteer:[]};return _this;}_createClass(CreateProjectView,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"m-5\"},/*#__PURE__*/React.createElement(\"form\",{className:\"w-full max-w-sm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:flex md:items-center mb-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-1/3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"title\",className:\"block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4\"},\"Title\")),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-2/3\"},/*#__PURE__*/React.createElement(\"input\",{required:true,className:\"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\\\" id=\\\"inline-full-name\",id:\"title\",type:\"text\",name:\"title\",placeholder:\"Insert title here\",onChange:this.handleInputChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"md:flex md:items-center mb-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-1/3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4\",htmlFor:\"picture\"},\"Picture\",' ')),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-2/3\"},/*#__PURE__*/React.createElement(\"input\",{required:true,type:\"file\",name:\"coverPictureUrl\",id:\"picture\",onChange:this.handleFileInputChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"md:flex md:items-center mb-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-1/3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"description\",className:\"block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4\"},\"Description\")),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-2/3\"},/*#__PURE__*/React.createElement(\"input\",{required:true,className:\"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\\\" id=\\\"inline-full-name\",id:\"description\",type:\"text\",name:\"description\",placeholder:\"Insert description here\",onChange:this.handleInputChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"md:flex md:items-center mb-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-1/3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"location\",className:\"block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4\"},\"Location\")),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-2/3\"},/*#__PURE__*/React.createElement(\"input\",{required:true,className:\"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\\\" id=\\\"inline-full-name\",id:\"location\",type:\"text\",name:\"location\",placeholder:\"Insert location here\",onChange:this.handleInputChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"md:flex md:items-center mb-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-1/3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"category\",className:\"block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4\"},\"Category:\")),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-2/3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inline-block relative w-64\"},/*#__PURE__*/React.createElement(\"select\",{id:\"category\",name:\"category\",onChange:this.handleInputChange,className:\"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline\"},/*#__PURE__*/React.createElement(\"option\",{value:\"Food\"},\"Food\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Education\"},\"Education\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Environment\"},\"Environment\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Sanitation\"},\"Sanitation\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Human Rights\"},\"Human Rights\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Donation\"},\"Donation\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Other\"},\"Other\")),/*#__PURE__*/React.createElement(\"div\",{className:\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-4 w-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"})))))),/*#__PURE__*/React.createElement(\"h1\",null,\"Needs: \"),/*#__PURE__*/React.createElement(\"div\",{className:\"md:flex md:items-center mb-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-1/3\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"money\",className:\"block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4\"},\"Money\")),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-2/3 flex flex-row\"},/*#__PURE__*/React.createElement(\"input\",{min:\"0\",className:\"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\\\" id=\\\"inline-full-name\",id:\"money\",type:\"number\",name:\"money\",placeholder:\"insert amount\",onChange:this.handleInputChange}),/*#__PURE__*/React.createElement(\"p\",{className:\"mt-2\"},\"\\u20AC\")))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4\"},\"Resources\"),/*#__PURE__*/React.createElement(NeedsInput,{addResources:this.addResource}),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-5 mt-3\"},this.state.resources.map(function(resource,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,style:{display:'flex'}},/*#__PURE__*/React.createElement(\"p\",null,resource.quantity,\" \",resource.name),/*#__PURE__*/React.createElement(\"form\",{onSubmit:_this2.prevent},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this2.deleteResource(index);},className:\"delete-btn\"},/*#__PURE__*/React.createElement(\"p\",null,\"X\"))));})),/*#__PURE__*/React.createElement(\"label\",{className:\"block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4\"},\"Volunteer\"),/*#__PURE__*/React.createElement(NeedsInput,{addResources:this.addVolunteer}),this.state.volunteer.map(function(volunteer,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,style:{display:'flex'}},/*#__PURE__*/React.createElement(\"p\",null,volunteer.quantity,\" \",volunteer.name),/*#__PURE__*/React.createElement(\"form\",{onSubmit:_this2.prevent},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this2.deleteVolunteer(index);},className:\"delete-btn\"},\"X\")));})),/*#__PURE__*/React.createElement(\"form\",{className:\"mt-12 text-center\",onSubmit:this.create},/*#__PURE__*/React.createElement(\"button\",{className:\"text-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded\"},\"Create Project\")));}}]);return CreateProjectView;}(Component);export{CreateProjectView as default};","map":{"version":3,"sources":["/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/src/views/CreateProject/index.jsx"],"names":["React","Component","NeedsInput","createProject","CreateProjectView","addResource","name","quantity","arr","state","resources","obj","push","setState","addVolunteer","volunteer","prevent","event","preventDefault","handleInputChange","target","value","handleFileInputChange","file","files","deleteResource","idx","newarr","filter","resource","index","deleteVolunteer","v","create","data","then","result","console","log","props","history","catch","err","title","coverPictureUrl","description","category","location","money","map","display"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles.scss';\nimport NeedsInput from './../../components/Input';\nimport { createProject } from './../../services/project';\n\nexport default class CreateProjectView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      title: '',\n      coverPictureUrl: null,\n      description: '',\n      category: 'Food',\n      location: '',\n      money: '',\n      resources: [],\n      volunteer: []\n    };\n  }\n\n  addResource = (name, quantity) => {\n    const arr = [...this.state.resources];\n    const obj = { name, quantity };\n    arr.push(obj);\n    this.setState({\n      resources: arr\n    });\n  };\n\n  addVolunteer = (name, quantity) => {\n    const arr = [...this.state.volunteer];\n    const obj = { name, quantity };\n    arr.push(obj);\n    this.setState({\n      volunteer: arr\n    });\n  };\n\n  prevent = (event) => {\n    event.preventDefault();\n  };\n\n  handleInputChange = ({ target: { name, value } }) => {\n    //console.log(name, value);\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleFileInputChange = (event) => {\n    const { name } = event.target;\n    const file = event.target.files[0];\n    this.setState({\n      [name]: file\n    });\n  };\n\n  deleteResource = (idx) => {\n    const arr = [...this.state.resources];\n    const newarr = arr.filter((resource, index) => idx !== index);\n    this.setState({\n      resources: newarr\n    });\n  };\n\n  deleteVolunteer = (idx) => {\n    const arr = [...this.state.volunteer];\n    const newarr = arr.filter((v, index) => idx !== index);\n    this.setState({\n      volunteer: newarr\n    });\n  };\n\n  create = (event) => {\n    event.preventDefault();\n    const data = { ...this.state };\n    createProject(data)\n      .then((result) => {\n        console.log('result');\n      })\n      .then(() => {\n        this.props.history.push('/');\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    return (\n      <div className='m-5'>\n        <form className='w-full max-w-sm'>\n          <div className='md:flex md:items-center mb-6'>\n            <div className='md:w-1/3'>\n              <label\n                htmlFor='title'\n                className='block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4'\n              >\n                Title\n              </label>\n            </div>\n            <div className='md:w-2/3'>\n              <input\n                required\n                className='bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\" id=\"inline-full-name'\n                id='title'\n                type='text'\n                name='title'\n                placeholder='Insert title here'\n                onChange={this.handleInputChange}\n              />\n            </div>\n          </div>\n          <div className='md:flex md:items-center mb-6'>\n            <div className='md:w-1/3'>\n              <label\n                className='block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4'\n                htmlFor='picture'\n              >\n                Picture{' '}\n              </label>\n            </div>\n            <div className='md:w-2/3'>\n              <input\n                required\n                type='file'\n                name='coverPictureUrl'\n                id='picture'\n                onChange={this.handleFileInputChange}\n              />\n            </div>\n          </div>\n\n          <div className='md:flex md:items-center mb-6'>\n            <div className='md:w-1/3'>\n              <label\n                htmlFor='description'\n                className='block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4'\n              >\n                Description\n              </label>\n            </div>\n            <div className='md:w-2/3'>\n              <input\n                required\n                className='bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\" id=\"inline-full-name'\n                id='description'\n                type='text'\n                name='description'\n                placeholder='Insert description here'\n                onChange={this.handleInputChange}\n              />\n            </div>\n          </div>\n\n          <div className='md:flex md:items-center mb-6'>\n            <div className='md:w-1/3'>\n              <label\n                htmlFor='location'\n                className='block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4'\n              >\n                Location\n              </label>\n            </div>\n            <div className='md:w-2/3'>\n              <input\n                required\n                className='bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\" id=\"inline-full-name'\n                id='location'\n                type='text'\n                name='location'\n                placeholder='Insert location here'\n                onChange={this.handleInputChange}\n              />\n            </div>\n          </div>\n\n          <div className='md:flex md:items-center mb-6'>\n            <div className='md:w-1/3'>\n              <label\n                htmlFor='category'\n                className='block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4'\n              >\n                Category:\n              </label>\n            </div>\n            <div className='md:w-2/3'>\n              <div className='inline-block relative w-64'>\n                <select\n                  id='category'\n                  name='category'\n                  onChange={this.handleInputChange}\n                  className='block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline'\n                >\n                  <option value='Food'>Food</option>\n                  <option value='Education'>Education</option>\n                  <option value='Environment'>Environment</option>\n                  <option value='Sanitation'>Sanitation</option>\n                  <option value='Human Rights'>Human Rights</option>\n                  <option value='Donation'>Donation</option>\n                  <option value='Other'>Other</option>\n                </select>\n                <div className='pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700'>\n                  <svg\n                    className='fill-current h-4 w-4'\n                    xmlns='http://www.w3.org/2000/svg'\n                    viewBox='0 0 20 20'\n                  >\n                    <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\n                  </svg>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <h1>Needs: </h1>\n\n          <div className='md:flex md:items-center mb-6'>\n            <div className='md:w-1/3'>\n              <label\n                htmlFor='money'\n                className='block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4'\n              >\n                Money\n              </label>\n            </div>\n            <div className='md:w-2/3 flex flex-row'>\n              <input\n                min='0'\n                className='bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\" id=\"inline-full-name'\n                id='money'\n                type='number'\n                name='money'\n                placeholder='insert amount'\n                onChange={this.handleInputChange}\n              />\n              <p className='mt-2'>€</p>\n            </div>\n          </div>\n        </form>\n        <div>\n          <label className='block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4'>\n            Resources\n          </label>\n\n          <NeedsInput addResources={this.addResource} />\n          <div className='mb-5 mt-3'>\n            {this.state.resources.map((resource, index) => {\n              return (\n                <div key={index} style={{ display: 'flex' }}>\n                  <p>\n                    {resource.quantity} {resource.name}\n                  </p>\n                  <form onSubmit={this.prevent}>\n                    <button onClick={() => this.deleteResource(index)} className='delete-btn'>\n                      <p>X</p>\n                    </button>\n                  </form>\n                </div>\n              );\n            })}\n          </div>\n\n          <label className='block text-gray-700 font-bold md:text-right mb-1 md:mb-0 pr-4'>\n            Volunteer\n          </label>\n          <NeedsInput addResources={this.addVolunteer} />\n\n          {this.state.volunteer.map((volunteer, index) => {\n            return (\n              <div key={index} style={{ display: 'flex' }}>\n                <p>\n                  {volunteer.quantity} {volunteer.name}\n                </p>\n                <form onSubmit={this.prevent}>\n                  <button onClick={() => this.deleteVolunteer(index)} className='delete-btn'>\n                    X\n                  </button>\n                </form>\n              </div>\n            );\n          })}\n        </div>\n        <form className='mt-12 text-center' onSubmit={this.create}>\n          <button className='text-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded'>\n            Create Project\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}