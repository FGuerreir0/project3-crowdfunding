{"ast":null,"code":"var _jsxFileName = \"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/src/views/EditProject/index.jsx\";\nimport React, { Component } from 'react';\nimport './styles.scss';\nimport { updateProject, getProjectById } from './../../services/project';\n\nclass EditProjectView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = ({\n      target: {\n        name,\n        value\n      }\n    }) => {\n      console.log(this.state.project);\n      this.setState({\n        project: {\n          [name]: value\n        }\n      });\n    };\n\n    this.handleFileInputChange = event => {\n      const {\n        name\n      } = event.target;\n      const file = event.target.files[0];\n      this.setState({\n        project: {\n          [name]: file\n        }\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log(this.state.project);\n      const id = this.props.match.params.project_id;\n      const {\n        title,\n        location,\n        shortDescription,\n        coverPictureUrl\n      } = this.state.project;\n      console.log(this.state);\n      updateProject({\n        id,\n        title,\n        location,\n        shortDescription,\n        coverPictureUrl\n      }).then(project => {\n        this.props.history.push(`/project/${id}`);\n      }).catch(error => {\n        console.log('This is the error');\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      project: null,\n      loaded: false\n    };\n  }\n\n  loadSingleProject() {\n    const id = this.props.match.params.project_id;\n    getProjectById(id).then(project => {\n      console.log('project:', project);\n      this.setState({\n        loaded: true,\n        project: { ...project\n        }\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    this.loadSingleProject();\n  }\n\n  render() {\n    const project = this.state.project;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, !this.state.loaded && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, \"Loading...\")), project && /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"update-title\",\n      name: \"title\",\n      value: project.title,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"shortDescription\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"update-shortDescription\",\n      name: \"shortDescription\",\n      value: project.shortDescription,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"location\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, \"Location\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"update-location\",\n      name: \"location\",\n      value: project.location,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"coverPictureUrl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, \"Cover Picture\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"coverPictureUrl\",\n      id: \"coverPictureUrl\",\n      onChange: this.handleFileInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, \" Submit \")));\n  }\n\n}\n\nexport default EditProjectView;","map":{"version":3,"sources":["/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/src/views/EditProject/index.jsx"],"names":["React","Component","updateProject","getProjectById","EditProjectView","constructor","props","handleInputChange","target","name","value","console","log","state","project","setState","handleFileInputChange","event","file","files","handleSubmit","preventDefault","id","match","params","project_id","title","location","shortDescription","coverPictureUrl","then","history","push","catch","error","loaded","loadSingleProject","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles.scss';\nimport { updateProject, getProjectById } from './../../services/project';\n\nclass EditProjectView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { project: null, loaded: false };\n  }\n\n  handleInputChange = ({ target: { name, value } }) => {\n    console.log(this.state.project);\n    this.setState({\n      project: { [name]: value }\n    });\n  };\n\n  loadSingleProject() {\n    const id = this.props.match.params.project_id;\n    getProjectById(id)\n      .then((project) => {\n        console.log('project:', project);\n        this.setState({\n          loaded: true,\n          project: { ...project }\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  componentDidMount() {\n    this.loadSingleProject();\n  }\n\n  handleFileInputChange = (event) => {\n    const { name } = event.target;\n    const file = event.target.files[0];\n    this.setState({\n      project: { [name]: file }\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(this.state.project);\n    const id = this.props.match.params.project_id;\n    const { title, location, shortDescription, coverPictureUrl } = this.state.project;\n\n    console.log(this.state);\n    updateProject({ id, title, location, shortDescription, coverPictureUrl })\n      .then((project) => {\n        this.props.history.push(`/project/${id}`);\n      })\n      .catch((error) => {\n        console.log('This is the error');\n        console.log(error);\n      });\n  };\n\n  render() {\n    const project = this.state.project;\n\n    return (\n      <div>\n        {!this.state.loaded && (\n          <>\n            <span>Loading...</span>\n          </>\n        )}\n        {project && (\n          <form onSubmit={this.handleSubmit}>\n            <label htmlFor='title'>Title</label>\n            <input\n              type='text'\n              className='update-title'\n              name='title'\n              value={project.title}\n              onChange={this.handleInputChange}\n            />\n            <label htmlFor='shortDescription'>Description</label>\n            <input\n              type='text'\n              className='update-shortDescription'\n              name='shortDescription'\n              value={project.shortDescription}\n              onChange={this.handleInputChange}\n            />\n\n            <label htmlFor='location'>Location</label>\n            <input\n              type='text'\n              className='update-location'\n              name='location'\n              value={project.location}\n              onChange={this.handleInputChange}\n            />\n\n            <label htmlFor='coverPictureUrl'>Cover Picture</label>\n            <input\n              type='file'\n              name='coverPictureUrl'\n              id='coverPictureUrl'\n              onChange={this.handleFileInputChange}\n            />\n\n            <button> Submit </button>\n          </form>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default EditProjectView;\n"]},"metadata":{},"sourceType":"module"}