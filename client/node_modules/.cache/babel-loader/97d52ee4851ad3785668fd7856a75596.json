{"ast":null,"code":"import _toConsumableArray from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./styles.scss';import{Link}from'react-router-dom';import{getUserById}from'./../../services/user';import HorizontalCardList from'./../../components/HorizontalCardList';var ProfileUserView=/*#__PURE__*/function(_Component){_inherits(ProfileUserView,_Component);var _super=_createSuper(ProfileUserView);function ProfileUserView(props){var _this;_classCallCheck(this,ProfileUserView);_this=_super.call(this,props);_this.componentDidMount=function(props){var isOwner=false;if(_this.props.user)isOwner=_this.props.match.params.id===_this.props.user._id;getUserById(_this.props.match.params.id).then(function(result){// console.log('owner', isOwner);\n//console.log('result', result);\n_this.setState({user:result.user,loaded:true,isOwner:isOwner,projects:_toConsumableArray(result.projects),actions:_toConsumableArray(result.actions)});}).catch(function(error){console.log(error);});};_this.state={user:null,loaded:false,isOwner:false,projects:[]};return _this;}_createClass(ProfileUserView,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){console.log('update');}},{key:\"render\",value:function render(){var user;if(this.props.location.user){user=this.props.location.user;}else{user=this.state.user;}return/*#__PURE__*/React.createElement(\"div\",null,!this.state.loaded&&/*#__PURE__*/React.createElement(\"span\",null,\"Loading\"),this.state.user&&/*#__PURE__*/React.createElement(\"div\",{className:\"main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile\"},/*#__PURE__*/React.createElement(\"img\",{src:user.pictureUrl,alt:\"Profile\",className:\"img\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"name\"},user.username),/*#__PURE__*/React.createElement(\"p\",{className:\"email\"},user.email),/*#__PURE__*/React.createElement(\"p\",{className:\"aboutme\"},user.bio),/*#__PURE__*/React.createElement(\"p\",{className:\"location\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-map-marker-alt\"},\" \"),' '+user.location),this.state.isOwner&&/*#__PURE__*/React.createElement(Link,{to:\"/user/\".concat(user._id,\"/edit\")},/*#__PURE__*/React.createElement(\"p\",{className:\"edit\"},\"Edit\"))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"section\"},/*#__PURE__*/React.createElement(\"p\",null,\"Projects\"),/*#__PURE__*/React.createElement(HorizontalCardList,{projects:this.state.projects}),/*#__PURE__*/React.createElement(\"p\",{className:\"actions\"},\"Contributed Actions\"),/*#__PURE__*/React.createElement(HorizontalCardList,{projects:this.state.actions}))));}}]);return ProfileUserView;}(Component);export default ProfileUserView;","map":{"version":3,"sources":["/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/src/views/ProfileUser/index.jsx"],"names":["React","Component","Link","getUserById","HorizontalCardList","ProfileUserView","props","componentDidMount","isOwner","user","match","params","id","_id","then","result","setState","loaded","projects","actions","catch","error","console","log","state","prevProps","prevState","location","pictureUrl","username","email","bio"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './styles.scss';\nimport { Link } from 'react-router-dom';\nimport { getUserById } from './../../services/user';\nimport HorizontalCardList from './../../components/HorizontalCardList';\n\nclass ProfileUserView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      loaded: false,\n      isOwner: false,\n      projects: [],\n    };\n  }\n\n  componentDidMount = (props) => {\n    let isOwner = false;\n    if (this.props.user) isOwner = this.props.match.params.id === this.props.user._id;\n    getUserById(this.props.match.params.id)\n      .then((result) => {\n        // console.log('owner', isOwner);\n        //console.log('result', result);\n        this.setState({\n          user: result.user,\n          loaded: true,\n          isOwner,\n          projects: [...result.projects],\n          actions: [...result.actions],\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log('update');\n  }\n\n  render() {\n    let user;\n    if (this.props.location.user) {\n      user = this.props.location.user;\n    } else {\n      user = this.state.user;\n    }\n\n    return (\n      <div>\n        {!this.state.loaded && <span>Loading</span>}\n        {this.state.user && (\n          <div className='main'>\n            <div className='profile'>\n              <img src={user.pictureUrl} alt='Profile' className='img' />\n              <p className='name'>{user.username}</p>\n              <p className='email'>{user.email}</p>\n              <p className='aboutme'>{user.bio}</p>\n              <p className='location'>\n                <i className='fas fa-map-marker-alt'> </i>\n                {' ' + user.location}\n              </p>\n\n              {this.state.isOwner && (\n                <Link to={`/user/${user._id}/edit`}>\n                  <p className='edit'>Edit</p>\n                </Link>\n              )}\n            </div>\n            <hr />\n            <div className='section'>\n              <p>Projects</p>\n              <HorizontalCardList projects={this.state.projects}></HorizontalCardList>\n\n              <p className='actions'>Contributed Actions</p>\n              <HorizontalCardList projects={this.state.actions}></HorizontalCardList>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ProfileUserView;\n"]},"metadata":{},"sourceType":"module"}