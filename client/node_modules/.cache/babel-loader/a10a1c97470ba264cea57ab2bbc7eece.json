{"ast":null,"code":"import axios from 'axios';\nconst baseAuthenticationService = axios.create({\n  baseURL: '/api/authentication'\n});\n\nconst login = body => {\n  return baseAuthenticationService.post('/login', body).then(result => {\n    const user = result.data.user;\n    return Promise.resolve(user);\n  }).catch(err => {\n    return Promise.reject(err);\n  });\n};\n\nconst register = body => {\n  const form = new FormData();\n  form.append('username', body.username);\n  form.append('email', body.email);\n  form.append('password', body.password);\n  console.log(form.append);\n  const config = {\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  };\n  return baseAuthenticationService.post('/register', form, config).then(result => {\n    const user = result.data.user;\n    return Promise.resolve(user);\n  }).catch(err => {\n    console.log('O erro está a passar aqui');\n    return Promise.reject(err);\n  });\n};\n\nconst signOut = () => {\n  return baseAuthenticationService.post('/sign-out').then(response => {\n    return Promise.resolve();\n  }).catch(error => {\n    return Promise.reject(error);\n  });\n};\n\nconst loadAuthenticatedUser = () => {\n  return baseAuthenticationService.get('/me').then(response => {\n    const user = response.data.user;\n    return Promise.resolve(user);\n  }).catch(error => {\n    return Promise.reject(error);\n  });\n};\n\nexport { register, login, signOut, loadAuthenticatedUser };","map":{"version":3,"sources":["/Users/fguerreir0/ironhack/projects/project3-crowdfunding/client/src/services/authentication.jsx"],"names":["axios","baseAuthenticationService","create","baseURL","login","body","post","then","result","user","data","Promise","resolve","catch","err","reject","register","form","FormData","append","username","email","password","console","log","config","headers","signOut","response","error","loadAuthenticatedUser","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,yBAAyB,GAAGD,KAAK,CAACE,MAAN,CAAa;AAC7CC,EAAAA,OAAO,EAAE;AADoC,CAAb,CAAlC;;AAIA,MAAMC,KAAK,GAAIC,IAAD,IAAU;AACtB,SAAOJ,yBAAyB,CAC7BK,IADI,CACC,QADD,EACWD,IADX,EAEJE,IAFI,CAEEC,MAAD,IAAY;AAChB,UAAMC,IAAI,GAAGD,MAAM,CAACE,IAAP,CAAYD,IAAzB;AACA,WAAOE,OAAO,CAACC,OAAR,CAAgBH,IAAhB,CAAP;AACD,GALI,EAMJI,KANI,CAMGC,GAAD,IAAS;AACd,WAAOH,OAAO,CAACI,MAAR,CAAeD,GAAf,CAAP;AACD,GARI,CAAP;AASD,CAVD;;AAYA,MAAME,QAAQ,GAAIX,IAAD,IAAU;AACzB,QAAMY,IAAI,GAAG,IAAIC,QAAJ,EAAb;AAEAD,EAAAA,IAAI,CAACE,MAAL,CAAY,UAAZ,EAAwBd,IAAI,CAACe,QAA7B;AACAH,EAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAqBd,IAAI,CAACgB,KAA1B;AACAJ,EAAAA,IAAI,CAACE,MAAL,CAAY,UAAZ,EAAwBd,IAAI,CAACiB,QAA7B;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYP,IAAI,CAACE,MAAjB;AACA,QAAMM,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB;AADI,GAAf;AAGA,SAAOzB,yBAAyB,CAC7BK,IADI,CACC,WADD,EACcW,IADd,EACoBQ,MADpB,EAGJlB,IAHI,CAGEC,MAAD,IAAY;AAChB,UAAMC,IAAI,GAAGD,MAAM,CAACE,IAAP,CAAYD,IAAzB;AACA,WAAOE,OAAO,CAACC,OAAR,CAAgBH,IAAhB,CAAP;AACD,GANI,EAOJI,KAPI,CAOGC,GAAD,IAAS;AACdS,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACA,WAAOb,OAAO,CAACI,MAAR,CAAeD,GAAf,CAAP;AACD,GAVI,CAAP;AAWD,CArBD;;AAuBA,MAAMa,OAAO,GAAG,MAAM;AACpB,SAAO1B,yBAAyB,CAC7BK,IADI,CACC,WADD,EAEJC,IAFI,CAEEqB,QAAD,IAAc;AAClB,WAAOjB,OAAO,CAACC,OAAR,EAAP;AACD,GAJI,EAKJC,KALI,CAKGgB,KAAD,IAAW;AAChB,WAAOlB,OAAO,CAACI,MAAR,CAAec,KAAf,CAAP;AACD,GAPI,CAAP;AAQD,CATD;;AAWA,MAAMC,qBAAqB,GAAG,MAAM;AAClC,SAAO7B,yBAAyB,CAC7B8B,GADI,CACA,KADA,EAEJxB,IAFI,CAEEqB,QAAD,IAAc;AAClB,UAAMnB,IAAI,GAAGmB,QAAQ,CAAClB,IAAT,CAAcD,IAA3B;AACA,WAAOE,OAAO,CAACC,OAAR,CAAgBH,IAAhB,CAAP;AACD,GALI,EAMJI,KANI,CAMGgB,KAAD,IAAW;AAChB,WAAOlB,OAAO,CAACI,MAAR,CAAec,KAAf,CAAP;AACD,GARI,CAAP;AASD,CAVD;;AAYA,SAASb,QAAT,EAAmBZ,KAAnB,EAA0BuB,OAA1B,EAAmCG,qBAAnC","sourcesContent":["import axios from 'axios';\n\nconst baseAuthenticationService = axios.create({\n  baseURL: '/api/authentication'\n});\n\nconst login = (body) => {\n  return baseAuthenticationService\n    .post('/login', body)\n    .then((result) => {\n      const user = result.data.user;\n      return Promise.resolve(user);\n    })\n    .catch((err) => {\n      return Promise.reject(err);\n    });\n};\n\nconst register = (body) => {\n  const form = new FormData();\n\n  form.append('username', body.username);\n  form.append('email', body.email);\n  form.append('password', body.password);\n  console.log(form.append);\n  const config = {\n    headers: { 'content-type': 'multipart/form-data' }\n  };\n  return baseAuthenticationService\n    .post('/register', form, config)\n\n    .then((result) => {\n      const user = result.data.user;\n      return Promise.resolve(user);\n    })\n    .catch((err) => {\n      console.log('O erro está a passar aqui');\n      return Promise.reject(err);\n    });\n};\n\nconst signOut = () => {\n  return baseAuthenticationService\n    .post('/sign-out')\n    .then((response) => {\n      return Promise.resolve();\n    })\n    .catch((error) => {\n      return Promise.reject(error);\n    });\n};\n\nconst loadAuthenticatedUser = () => {\n  return baseAuthenticationService\n    .get('/me')\n    .then((response) => {\n      const user = response.data.user;\n      return Promise.resolve(user);\n    })\n    .catch((error) => {\n      return Promise.reject(error);\n    });\n};\n\nexport { register, login, signOut, loadAuthenticatedUser };\n"]},"metadata":{},"sourceType":"module"}